(self.webpackChunkspm_kubernetes=self.webpackChunkspm_kubernetes||[]).push([[9298],{8393:function(t,e,a){"use strict";a.r(e),a.d(e,{_frontmatter:function(){return i},default:function(){return k}});var n=a(9756),r=(a(7294),a(4983)),l=a(4295),i={},d=function(t){return function(e){return console.warn("Component "+t+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.kt)("div",e)}},o=d("AnchorLinks"),m=d("AnchorLink"),p=d("InlineNotification"),s={_frontmatter:i},u=l.Z;function k(t){var e=t.components,a=(0,n.Z)(t,["components"]);return(0,r.kt)(u,Object.assign({},s,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This page contains all available configuration options built into the reference Helm charts for IBM® Cúram Social Program Management (SPM).\nThe published charts are intended to be a starting point for you to tailor the charts to your own environment and requirements."),(0,r.kt)("p",null,"The following tables list the configurable parameters of the ",(0,r.kt)("inlineCode",{parentName:"p"},"spm")," chart and their default values."),(0,r.kt)(o,{small:!0,mdxType:"AnchorLinks"},(0,r.kt)(m,{mdxType:"AnchorLink"},"Global properties"),(0,r.kt)(m,{mdxType:"AnchorLink"},"Liberty runtime"),(0,r.kt)(m,{mdxType:"AnchorLink"},"Batch jobs"),(0,r.kt)(m,{mdxType:"AnchorLink"},"IBM MQ"),(0,r.kt)(m,{mdxType:"AnchorLink"},"Static Content Server"),(0,r.kt)(m,{mdxType:"AnchorLink"},"XML Server"),(0,r.kt)(m,{mdxType:"AnchorLink"},"Universal Access React App - optional")),(0,r.kt)("h3",null,"Global properties"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.license")),(0,r.kt)("td",{parentName:"tr",align:null},"Set to ",(0,r.kt)("inlineCode",{parentName:"td"},"accept")," to accept the terms of the IBM license"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.images.imageLibrary")),(0,r.kt)("td",{parentName:"tr",align:null},"Namespace in the image registry containing your SPM images"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.images.imageTag")),(0,r.kt)("td",{parentName:"tr",align:null},"Image tag of all SPM images to be used for deployment"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"latest"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.images.registry")),(0,r.kt)("td",{parentName:"tr",align:null},"Private image registry hosting your SPM images"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"minikube.local:5000"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.imagePullSecret.secretName")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of a pre-created secret containing the credentials for connecting to your private image registry - if left blank, will attempt unauthenticated connection"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.hubPullSecret.secretName")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of a pre-created secret containing the credentials for connecting to the docker hub - if left blank, will attempt unauthenticated connection"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.database.type")),(0,r.kt)("td",{parentName:"tr",align:null},"Database type (Valid values: ",(0,r.kt)("inlineCode",{parentName:"td"},"DB2")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"ORA"),")"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"DB2"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.database.credsSecretName")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of a pre-created secret containing the database credentials (see ",(0,r.kt)("a",{parentName:"td",href:"/spm-kubernetes/deployment/secrets"},"Handling Secrets")," topic for expected secret content)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.database.dbName")),(0,r.kt)("td",{parentName:"tr",align:null},"Database name"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"DATABASE"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.database.serviceName")),(0,r.kt)("td",{parentName:"tr",align:null},"The Oracle database service name"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.database.hostname")),(0,r.kt)("td",{parentName:"tr",align:null},"Database server hostname (required)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.database.port")),(0,r.kt)("td",{parentName:"tr",align:null},"Database server TCP/IP port"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"50000"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.database.ssl.enabled")),(0,r.kt)("td",{parentName:"tr",align:null},"Use Secure (TLS) connection to the database"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.database.ssl.secretKey")),(0,r.kt)("td",{parentName:"tr",align:null},"The key in the secret containing the TLS certificate for the secure connection to the database"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"db2admin.arm"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.database.ssl.secretName")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of a pre-created secret containing the TLS certificate for the secure connection to the database"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.common.persistence.enabled")),(0,r.kt)("td",{parentName:"tr",align:null},"Use persistent storage for logs"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.common.persistence.accessKey")),(0,r.kt)("td",{parentName:"tr",align:null},"HMAC Access Key of the Cloud Object Storage credentials with a ",(0,r.kt)("inlineCode",{parentName:"td"},"Writer")," role"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.common.persistence.instanceId")),(0,r.kt)("td",{parentName:"tr",align:null},"Cloud Object Storage instance ID"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.common.persistence.secretKey")),(0,r.kt)("td",{parentName:"tr",align:null},"HMAC Secret Key of the Cloud Object Storage credentials with a ",(0,r.kt)("inlineCode",{parentName:"td"},"Writer")," role"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.common.persistence.bucketEndpoint")),(0,r.kt)("td",{parentName:"tr",align:null},"HTTP(s) endpoint of the Cloud Object Storage service"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.common.persistence.bucketName")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of the Cloud Object Storage bucket to use"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.common.persistence.bucketRegion")),(0,r.kt)("td",{parentName:"tr",align:null},"Region (",(0,r.kt)("inlineCode",{parentName:"td"},"ibm.io/region"),") of the Cloud Object Storage bucket, if required by your storage provisioner"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.common.persistence.storageClassName")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of the Storage Class to use"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.common.persistence.mountPoint")),(0,r.kt)("td",{parentName:"tr",align:null},"Path, where the ",(0,r.kt)("inlineCode",{parentName:"td"},"Persistent Volume")," should be mounted in pods"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.common.persistence.subDir")),(0,r.kt)("td",{parentName:"tr",align:null},"Subdirectory inside the mount point, where logs should be stored. If blank, defaults to the Helm release name"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.config.<applicationID>.enabled")),(0,r.kt)("td",{parentName:"tr",align:null},"Enable/disable SPM applications in the Helm release, where ",(0,r.kt)("inlineCode",{parentName:"td"},"applicationID")," is the lower-cased name of the EAR file deployed"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"true")," for ",(0,r.kt)("inlineCode",{parentName:"td"},"curam"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"false")," for all others")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.ingress.enabled")),(0,r.kt)("td",{parentName:"tr",align:null},"Toggle creation of Ingress/Route resources"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.ingress.generateCert")),(0,r.kt)("td",{parentName:"tr",align:null},"Create a self-signed certificate for use in Ingress definitions"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.ingress.hostname")),(0,r.kt)("td",{parentName:"tr",align:null},"Hostname for use in Ingress/Route definition"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.ingress.tlsSecretName")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of a pre-created secret containing TLS key and certificate files"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.timezone")),(0,r.kt)("td",{parentName:"tr",align:null},"Timezone* to be set in all deployed pods - this should be aligned with the underlying infrastructure"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"UTC"))))),(0,r.kt)(p,{mdxType:"InlineNotification"},(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note:")," Some elements of the deployment stack may have unexpected behaviour in half-hour timezones - we recommend using the nearest full-hour timezone for the ",(0,r.kt)("inlineCode",{parentName:"p"},"global.timezone")," property, where possible.")),(0,r.kt)("h3",null,"Liberty runtime"),(0,r.kt)("p",null,"In the following properties, ",(0,r.kt)("inlineCode",{parentName:"p"},"<applicationID>")," is a placeholder for the name of SPM applications in lower case (e.g. ",(0,r.kt)("inlineCode",{parentName:"p"},"curam"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"citizenportal"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"rest"),", etc)."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.config.<applicationID>.jvm")),(0,r.kt)("td",{parentName:"tr",align:null},"Array of JVM options to be passed to Liberty"),(0,r.kt)("td",{parentName:"tr",align:null},"Varies by application (see ",(0,r.kt)("inlineCode",{parentName:"td"},"values.yaml"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-IKS_only-blue",alt:"IKS only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.config.<applicationID>.mqConnectionNameList")),(0,r.kt)("td",{parentName:"tr",align:null},"Connection list when IBM MQ is running in HA mode outside Kubernets (e.g. ",(0,r.kt)("inlineCode",{parentName:"td"},"mqHost1(1414),mqHost2(1414)"),")"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.config.<applicationID>.consumerTuning")),(0,r.kt)("td",{parentName:"tr",align:null},"Dictionary of tuning values specific to the Consumer pods (valid keys: ",(0,r.kt)("inlineCode",{parentName:"td"},"jvm"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"replicaCount"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"resources"),", any keys from ",(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults"),")"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"{}"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.config.<applicationID>.producerTuning")),(0,r.kt)("td",{parentName:"tr",align:null},"Dictionary of tuning values specific to the Producer pods (valid keys: ",(0,r.kt)("inlineCode",{parentName:"td"},"jvm"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"replicaCount"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"resources"),", any keys from ",(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults"),")"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"{}"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.config.<applicationID>.producerTuning.maxEndPoints_DPEnactmentAS")),(0,r.kt)("td",{parentName:"tr",align:null},"Sets maximum concurrent endpoints for the DPEnactment JMS queue in the producer"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Default derived from maxThreads"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.config.<applicationID>.producerTuning.maxEndPoints_WorkflowActivityAS")),(0,r.kt)("td",{parentName:"tr",align:null},"Sets maximum concurrent endpoints for the WorkflowActivity JMS queue in the producer"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Default derived from maxThreads"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.config.<applicationID>.producerTuning.maxEndPoints_WorkflowEnactmentAS")),(0,r.kt)("td",{parentName:"tr",align:null},"Sets maximum concurrent endpoints for the WorkflowEnactment JMS queue in the producer"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Default derived from maxThreads"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.config.<applicationID>.consumerTuning.maxEndPoints_DPEnactmentAS")),(0,r.kt)("td",{parentName:"tr",align:null},"Sets maximum concurrent endpoints for the DPEnactment JMS queue in the consumer"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Default derived from maxThreads"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.config.<applicationID>.consumerTuning.maxEndPoints_WorkflowActivityAS")),(0,r.kt)("td",{parentName:"tr",align:null},"Sets maximum concurrent endpoints for the WorkflowActivity JMS queue in the consumer"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Default derived from maxThreads"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.config.<applicationID>.consumerTuning.maxEndPoints_WorkflowEnactmentAS")),(0,r.kt)("td",{parentName:"tr",align:null},"Sets maximum concurrent endpoints for the WorkflowEnactment JMS queue in the consumer"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Default derived from maxThreads"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.config.<applicationID>.replicaCount")),(0,r.kt)("td",{parentName:"tr",align:null},"Number of replicas of the application to be deployed"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.config.<applicationID>.resources")),(0,r.kt)("td",{parentName:"tr",align:null},"Pod ",(0,r.kt)("a",{parentName:"td",href:"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#resource-requests-and-limits-of-pod-and-container"},"resources")," definition"),(0,r.kt)("td",{parentName:"tr",align:null},"Varies by application (see ",(0,r.kt)("inlineCode",{parentName:"td"},"values.yaml"),")")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.initialDelaySeconds")),(0,r.kt)("td",{parentName:"tr",align:null},"Time in seconds before commencing application readiness probes"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"150"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.loginConfig.identityOnly")),(0,r.kt)("td",{parentName:"tr",align:null},"Use LDAP authentication in ",(0,r.kt)("inlineCode",{parentName:"td"},"Identity-Only")," mode"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.loginConfig.trace")),(0,r.kt)("td",{parentName:"tr",align:null},"Debug authentication process by printing tracing information on invocation of the login module"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.replicaCount")),(0,r.kt)("td",{parentName:"tr",align:null},"Default number of replicas, if ",(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.config.<applicationID>.replicaCount")," is not specified"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.sessionConfig.maxInMemorySessionCount")),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum number of sessions to maintain in memory for each web module"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1000"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.sessionConfig.sessionTimeout")),(0,r.kt)("td",{parentName:"tr",align:null},"Amount of time a session can go unused before it is no longer valid"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"30m"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.sessionConfig.transactionTimeout")),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum time allowed for transactions started on this server to complete. Any such transactions that do not complete before this timeout occurs are rolled back."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"3m"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.systemUser.credsSecretName")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of a pre-created secret containing credentials of the system user (see ",(0,r.kt)("a",{parentName:"td",href:"/spm-kubernetes/deployment/secrets"},"Handling Secrets")," topic for expected secret content)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"SYSTEM"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.coreThreads")),(0,r.kt)("td",{parentName:"tr",align:null},"Minimum number of threads to associate with the ",(0,r.kt)("a",{parentName:"td",href:"https://www.ibm.com/docs/en/was-liberty/base?topic=configuration-executor"},"executor")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"4"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.maxThreads")),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum number of threads that can be associated with the ",(0,r.kt)("a",{parentName:"td",href:"https://www.ibm.com/docs/en/was-liberty/base?topic=configuration-executor"},"executor")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"4"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.curamdb_maxPoolSize")),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum number of physical connections for a pool on the curamdb database"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"8"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.curamtimerdb_maxPoolSize")),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum number of physical connections for a pool on the curamtimerdb database"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"8"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.curamsessdb_maxPoolSize")),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum number of physical connections for a pool on the curamsessdb database"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"8"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.curamdb_numConnectionsPerThreadLocal")),(0,r.kt)("td",{parentName:"tr",align:null},"Number of connections to the curamdb database to be cached for each thread"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"2"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.curamtimerdb_numConnectionsPerThreadLocal")),(0,r.kt)("td",{parentName:"tr",align:null},"Number of connections to the curamtimerdb database to be cached for each thread"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"2"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.curamsessdb_numConnectionsPerThreadLocal")),(0,r.kt)("td",{parentName:"tr",align:null},"Number of connections to the curamsessdb database to be cached for each thread"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"2"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.curamdb_purgePolicy")),(0,r.kt)("td",{parentName:"tr",align:null},"Specifies which connections on curamdb to destroy when a stale connection is detected in a pool"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"EntirePool"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.curamtimerdb_purgePolicy")),(0,r.kt)("td",{parentName:"tr",align:null},"Specifies which connections on curamtimerdb to destroy when a stale connection is detected in a pool"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"EntirePool"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.curamsessdb_purgePolicy")),(0,r.kt)("td",{parentName:"tr",align:null},"Specifies which connections on curamsessdb to destroy when a stale connection is detected in a pool"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"EntirePool"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.curamdb_statementCacheSize")),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum number of cached statements per connection on curamdb database"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1000"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.curamtimerdb_statementCacheSize")),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum number of cached statements per connection on curamtimerdb database"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1000"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.curamsessdb_statementCacheSize")),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum number of cached statements per connection on curamsessdb"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1000"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.maxJMSConnectionsPerThread")),(0,r.kt)("td",{parentName:"tr",align:null},"Limits the number of open JMS connections on each thread."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"2"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.mqMaxPoolSize")),(0,r.kt)("td",{parentName:"tr",align:null},"Maximum number of physical connections for a pool. A value of 0 means unlimited."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"12"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.mqMinPoolSize")),(0,r.kt)("td",{parentName:"tr",align:null},"Minimum number of physical connections for a pool. A value of 0 means unlimited."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"12"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.mqNumConnectionsPerThreadLocal")),(0,r.kt)("td",{parentName:"tr",align:null},"Caches the specified number of connections for each thread."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"2"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.maxEndPoints_DPErrorAS")),(0,r.kt)("td",{parentName:"tr",align:null},"Sets maximum concurrent endpoints for the DPError JMS queue"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.maxEndPoints_WorkflowErrorAS")),(0,r.kt)("td",{parentName:"tr",align:null},"Sets maximum concurrent endpoints for the WorkflowError JMS queue"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.maxEndPoints_CuramDeadMessageQueueAS")),(0,r.kt)("td",{parentName:"tr",align:null},"Sets maximum concurrent endpoints for the CuramDeadMessageQueue JMS queue"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.tuningDefaults.resources")),(0,r.kt)("td",{parentName:"tr",align:null},"yaml stanza to allow fine tuning of resource config for an app. Overrides global.apps.config.APPLICATION_NAME.resources if set"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.wlpAdmin.secretName")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of a pre-created secret containing WebSphere Liberty administration credentials (see ",(0,r.kt)("a",{parentName:"td",href:"/spm-kubernetes/deployment/secrets"},"Handling Secrets")," topic for expected secret content)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.wlpAdmin.enableAdminCenter")),(0,r.kt)("td",{parentName:"tr",align:null},"Toggle whether the WebSphere Liberty Admin Center should be enabled"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.podAnnotations")),(0,r.kt)("td",{parentName:"tr",align:null},"Annotations to be applied during deployment"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"{}"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"apps.properties")),(0,r.kt)("td",{parentName:"tr",align:null},"Applications properties to be set during deployment"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"{}"))))),(0,r.kt)("h3",null,"Batch jobs"),(0,r.kt)("p",null,"In the following properties, ",(0,r.kt)("inlineCode",{parentName:"p"},"<progID>")," is a placeholder for the name of the batch program - this must be a valid YAML term (lower case, alphanumerical plus hypens, must begin with a letter), but does not need to match the Batch process class."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.backoffLimit")),(0,r.kt)("td",{parentName:"tr",align:null},"Number of retries for failed Batch executions"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.javaOptions")),(0,r.kt)("td",{parentName:"tr",align:null},"Default Java Heap options for all programs"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-Xms1g -Xmx1g"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.successfulJobsHistoryLimit")),(0,r.kt)("td",{parentName:"tr",align:null},"Number of successful batch executions to keep"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"3"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"---------"),(0,r.kt)("td",{parentName:"tr",align:null},"-----------"),(0,r.kt)("td",{parentName:"tr",align:null},"-------")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.programs.<progID>.activeDeadlineSeconds")),(0,r.kt)("td",{parentName:"tr",align:null},"Number of seconds within which the job is expected to complete. If this time is exceeded, the job is terminated. Blank value denoted no limit."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.programs.<progID>.className")),(0,r.kt)("td",{parentName:"tr",align:null},"Java class for the batch process (",(0,r.kt)("inlineCode",{parentName:"td"},"-Dbatch.program="),")"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.programs.<progID>.javaOptions")),(0,r.kt)("td",{parentName:"tr",align:null},"Java options to be injected via ",(0,r.kt)("inlineCode",{parentName:"td"},"ANT_OPTS")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.programs.<progID>.parameters")),(0,r.kt)("td",{parentName:"tr",align:null},"Parameters, if any, to be passed to the batch process (",(0,r.kt)("inlineCode",{parentName:"td"},"-Dbatch.parameters="),")"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.programs.<progID>.resources")),(0,r.kt)("td",{parentName:"tr",align:null},"Pod ",(0,r.kt)("a",{parentName:"td",href:"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#resource-requests-and-limits-of-pod-and-container"},"resources")," definition"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.programs.<progID>.username")),(0,r.kt)("td",{parentName:"tr",align:null},"SPM username for the execution of the batch progress (",(0,r.kt)("inlineCode",{parentName:"td"},"-Dbatch.username="),")"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.programs.<progID>.schedule")),(0,r.kt)("td",{parentName:"tr",align:null},"Different schedules can be specified for different batch jobs. The default schedule applies to any jobs queued in the system."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"*/30 * * * *"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"---------"),(0,r.kt)("td",{parentName:"tr",align:null},"-----------"),(0,r.kt)("td",{parentName:"tr",align:null},"-------")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.streamed.<progID>.activeDeadlineSeconds")),(0,r.kt)("td",{parentName:"tr",align:null},"Number of seconds within which the job is expected to complete. If this time is exceeded, the job is terminated. Blank value denoted no limit."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.streamed.<progID>.schedule")),(0,r.kt)("td",{parentName:"tr",align:null},"Different schedules can be specified for different batch jobs. The default schedule applies to any jobs queued in the system."),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"*/30 * * * *"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.streamed.<progID>.chunker.className")),(0,r.kt)("td",{parentName:"tr",align:null},"Java class for the batch chunker (",(0,r.kt)("inlineCode",{parentName:"td"},"-Dbatch.program="),")"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.streamed.<progID>.chunker.javaOptions")),(0,r.kt)("td",{parentName:"tr",align:null},"Java options to be injected via ",(0,r.kt)("inlineCode",{parentName:"td"},"ANT_OPTS")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.streamed.<progID>.chunker.parameters")),(0,r.kt)("td",{parentName:"tr",align:null},"Parameters, if any, to be passed to the batch chunker (",(0,r.kt)("inlineCode",{parentName:"td"},"-Dbatch.parameters="),")"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.streamed.<progID>.chunker.replicaCount")),(0,r.kt)("td",{parentName:"tr",align:null},"Number of replicas of chunker to launch"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.streamed.<progID>.chunker.resources")),(0,r.kt)("td",{parentName:"tr",align:null},"Pod ",(0,r.kt)("a",{parentName:"td",href:"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#resource-requests-and-limits-of-pod-and-container"},"resources")," definition"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.streamed.<progID>.chunker.username")),(0,r.kt)("td",{parentName:"tr",align:null},"SPM username for the execution of the batch chunker (",(0,r.kt)("inlineCode",{parentName:"td"},"-Dbatch.username="),")"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"---------"),(0,r.kt)("td",{parentName:"tr",align:null},"-----------"),(0,r.kt)("td",{parentName:"tr",align:null},"-------")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.streamed.<progID>.stream.className")),(0,r.kt)("td",{parentName:"tr",align:null},"Java class for the batch stream (",(0,r.kt)("inlineCode",{parentName:"td"},"-Dbatch.program="),")"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.streamed.<progID>.stream.javaOptions")),(0,r.kt)("td",{parentName:"tr",align:null},"Java options to be injected via ",(0,r.kt)("inlineCode",{parentName:"td"},"ANT_OPTS")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.streamed.<progID>.stream.parameters")),(0,r.kt)("td",{parentName:"tr",align:null},"Parameters, if any, to be passed to the batch stream (",(0,r.kt)("inlineCode",{parentName:"td"},"-Dbatch.parameters="),")"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.streamed.<progID>.stream.replicaCount")),(0,r.kt)("td",{parentName:"tr",align:null},"Number of replicas of stream to launch"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.streamed.<progID>.stream.resources")),(0,r.kt)("td",{parentName:"tr",align:null},"Pod ",(0,r.kt)("a",{parentName:"td",href:"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#resource-requests-and-limits-of-pod-and-container"},"resources")," definition"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"batch.streamed.<progID>.stream.username")),(0,r.kt)("td",{parentName:"tr",align:null},"SPM username for the execution of the batch stream (",(0,r.kt)("inlineCode",{parentName:"td"},"-Dbatch.username="),")"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))))),(0,r.kt)("p",null,"The default batch configuration runs any queued jobs every 30 minutes (equivalent of running ",(0,r.kt)("inlineCode",{parentName:"p"},"build.sh runbatch")," without any parameters)."),(0,r.kt)("p",null,"Additional batch jobs may be added with additional keys under ",(0,r.kt)("inlineCode",{parentName:"p"},"batch.programs"),"."),(0,r.kt)("p",null,"The following ",(0,r.kt)("inlineCode",{parentName:"p"},"batch.programs")," example adds the\n",(0,r.kt)("a",{parentName:"p",href:"https://www.ibm.com/docs/en/spm/7.0.11?topic=reform-running-bulk-reassessment-all-open-integrated-cases"},"bulk reassessment of all open integrated cases"),"\nbatch job to be run at 2AM every Sunday night:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'batch:\n  programs:\n    queued:\n      schedule: "*/30 * * * *"\n    reassessment:\n      className: curam.healthcare.sl.intf.BulkICReassessment.process\n      javaOptions: "-Xms2g -Xmx2g -Xgcpolicy:gencon"\n      parameters: "evidenceMigrationDetails=CASE|DET0026071;DET0026027|CT26301"\n      username: system\n      schedule: "0 2 * * 6"\n\n  streamed:\n    pd_eligibility:\n      schedule: "0 1 * * *"\n      chunker:\n        className: curam.core.intf.DetermineProductDeliveryEligibility.process\n        parameters: processingDate=20201013\n        replicaCount: 1\n      stream:\n        className: curam.core.intf.DetermineProductDeliveryEligibilityStream.process\n        replicaCount: 3\n        javaOptions: \'-Xms2g -Xmx2g\'\n        resources:\n          limits:\n            cpu: "2"\n            memory: "4Gi"\n          requests:\n            cpu: "1"\n            memory: "2.5Gi"\n')),(0,r.kt)(p,{mdxType:"InlineNotification"},(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note:")," Kubernetes by default has limits set on resources such as memory and CPU usage. SPM containers require more resources than the default values that we have set.\nWe have set the default resource values to the limits that we have found to work best during development."),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"The resource values are subject to change during further iterations.")),(0,r.kt)("p",null,"The resource values can be changed. However, for troubleshooting, we will request that our default values are used at a minimum.")),(0,r.kt)("h3",null,"IBM MQ"),(0,r.kt)(p,{mdxType:"InlineNotification"},(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note:")," There are two deployment strategies for IBM MQ, with MQ installed on a virtual machine or within a container.\nWe support MQ on a VM for both Openshift and IBM Kubernetes Service.\nWe only support containerised MQ on Openshift.")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-Container_only-red",alt:"Container only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.version")),(0,r.kt)("td",{parentName:"tr",align:null},"Version of ",(0,r.kt)("a",{parentName:"td",href:"https://hub.docker.com/r/ibmcom/mq"},"IBM MQ")," to deploy"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"9.1.5.0-r2"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-VM_only-blue",alt:"VM based only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.useConnectionNameList")),(0,r.kt)("td",{parentName:"tr",align:null},"Indicator if IBM MQ is running in HA mode outside the cluster"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.tlsSecretName")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of a pre-created Secret containing TLS certificates for IBM MQ (required if running MQ outside the cluster, optional for MQ containers - certificates are auto-generated if not provided)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-Container_only-red",alt:"Container only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.queueManager.name")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of the queue manager to be created in the MQ container"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"QM1"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.queueManager.secret.name")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of a pre-created secret containing credentials of the MQ client and admin users (see ",(0,r.kt)("a",{parentName:"td",href:"/spm-kubernetes/deployment/secrets"},"Handling Secrets")," topic)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-Container_only-red",alt:"Container only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.queueManager.secret.adminPasswordKey")),(0,r.kt)("td",{parentName:"tr",align:null},"The key in the Kubernetes Secret containing the password for the MQ admin user"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"adminPasswordKey"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.queueManager.secret.appUsernameKey")),(0,r.kt)("td",{parentName:"tr",align:null},"The key in the Kubernetes Secret containing the username for the MQ client user"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"appUsername"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.queueManager.secret.appPasswordKey")),(0,r.kt)("td",{parentName:"tr",align:null},"The key in the Kubernetes Secret containing the password for the MQ client user"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"appPasswordKey"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-Container_only-red",alt:"Container only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.multiInstance.cephEnabled")),(0,r.kt)("td",{parentName:"tr",align:null},"Deploy MQ as a StatefulSet using Ceph storage backend (",(0,r.kt)("inlineCode",{parentName:"td"},"cephEnabled")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"nfsEnabled")," are mutually exclusive)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-Container_only-red",alt:"Container only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.multiInstance.storageClassName")),(0,r.kt)("td",{parentName:"tr",align:null},"Storage class used for dynamic provisioning on the Ceph backend"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-Container_only-red",alt:"Container only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.multiInstance.nfsEnabled")),(0,r.kt)("td",{parentName:"tr",align:null},"Deploy MQ as a StatefulSet using NFS storage backend (",(0,r.kt)("inlineCode",{parentName:"td"},"cephEnabled")," and ",(0,r.kt)("inlineCode",{parentName:"td"},"nfsEnabled")," are mutually exclusive)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-Container_only-red",alt:"Container only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.multiInstance.nfsIP")),(0,r.kt)("td",{parentName:"tr",align:null},"IP address or hostname of the NFS server"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-Container_only-red",alt:"Container only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.multiInstance.nfsFolder")),(0,r.kt)("td",{parentName:"tr",align:null},"Path on the NFS server, where MQ data should be stored"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-Container_only-red",alt:"Container only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.multiInstance.nfsMountOptions")),(0,r.kt)("td",{parentName:"tr",align:null},"Additional mount options that may be added"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[]"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-Container_only-red",alt:"Container only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.multiInstance.useDynamicProvisioning")),(0,r.kt)("td",{parentName:"tr",align:null},"Use a dynamic storage provider with the storage class defined by ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.multiInstance.storageClassName")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-Container_only-red",alt:"Container only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.security.context.fsGroup")),(0,r.kt)("td",{parentName:"tr",align:null},"Primary user group for any filesystem mounts, if required by the storage provisioner"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-Container_only-red",alt:"Container only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.security.context.supplementalGroups")),(0,r.kt)("td",{parentName:"tr",align:null},"Supplemental user groups for any filesystem mounts, if required by the storage provisioner"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"[]"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-Container_only-red",alt:"Container only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.security.initVolumeAsRoot")),(0,r.kt)("td",{parentName:"tr",align:null},"Initialise storage volume as ",(0,r.kt)("inlineCode",{parentName:"td"},"root")," user"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("img",{parentName:"td",src:"https://img.shields.io/badge/-Container_only-red",alt:"Container only"})," ",(0,r.kt)("inlineCode",{parentName:"td"},"mqserver.podAnnotations")),(0,r.kt)("td",{parentName:"tr",align:null},"Annotations to be applied during deployment"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"{}"))))),(0,r.kt)("h3",null,"MQ Metrics (optional)"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.metrics.enabled")),(0,r.kt)("td",{parentName:"tr",align:null},"Enable/disable the MQ metrics"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.metrics.additionalMetrics")),(0,r.kt)("td",{parentName:"tr",align:null},"Enable/disable the IBM MQ Queue Depth Events metrics (only valid if ",(0,r.kt)("inlineCode",{parentName:"td"},"global.mq.metrics.enabled")," is set to ",(0,r.kt)("inlineCode",{parentName:"td"},"true"),")"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"false"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mqserver.metricsImage.library")),(0,r.kt)("td",{parentName:"tr",align:null},"Namespace in the image registry containing your IBM MQ Queue Depth Events image"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"{}"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mqserver.metricsImage.name")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of your IBM MQ Queue Depth Events image to be used"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"{}"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"mqserver.metricsImage.tag")),(0,r.kt)("td",{parentName:"tr",align:null},"Image tag of your IBM MQ Queue Depth Events image to be used"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"{}"))))),(0,r.kt)("h3",null,"MQ tuning (optional)"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"global.apps.config.<applicationID>.mqTuning")),(0,r.kt)("td",{parentName:"tr",align:null},"MQ Pod ",(0,r.kt)("a",{parentName:"td",href:"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#resource-requests-and-limits-of-pod-and-container"},"resources")," definition per application"),(0,r.kt)("td",{parentName:"tr",align:null},"Varies by application (see ",(0,r.kt)("inlineCode",{parentName:"td"},"values.yaml"),")")))),(0,r.kt)("h3",null,"Static Content Server"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"web.ingressPath")),(0,r.kt)("td",{parentName:"tr",align:null},"Static content Ingress/Route path without a trailing forward slash (must match ",(0,r.kt)("a",{parentName:"td",href:"/spm-kubernetes/deploy-spm/build-spm#set-up-static-content"},"what had been defined")," when the application was built)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"/CuramStatic"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"web.readinessProbe.path")),(0,r.kt)("td",{parentName:"tr",align:null},"Path for the pod readiness probe (should be same as ",(0,r.kt)("inlineCode",{parentName:"td"},"ingressPath")," except ",(0,r.kt)("strong",{parentName:"td"},"with")," the trailing forward slash)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"/CuramStatic/"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"web.replicaCount")),(0,r.kt)("td",{parentName:"tr",align:null},"Number of replicas to be deployed"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"web.resources")),(0,r.kt)("td",{parentName:"tr",align:null},"Pod ",(0,r.kt)("a",{parentName:"td",href:"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#resource-requests-and-limits-of-pod-and-container"},"resources")," definition"),(0,r.kt)("td",{parentName:"tr",align:null},"Varies by application (see ",(0,r.kt)("inlineCode",{parentName:"td"},"values.yaml"),")")))),(0,r.kt)("h3",null,"XML Server"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"xmlserver.replicaCount")),(0,r.kt)("td",{parentName:"tr",align:null},"Number of replicas to be deployed"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"xmlserver.jvm.maxMemory")),(0,r.kt)("td",{parentName:"tr",align:null},"The maximum Java heap for the XML server"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-Djava.maxmemory=768m"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"xmlserver.jvm.threadStackSize")),(0,r.kt)("td",{parentName:"tr",align:null},"The Java thread stack size for the XML server"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"-Djava.thread.stack.size=-Xss4m"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"xmlserver.config.threadPoolSize")),(0,r.kt)("td",{parentName:"tr",align:null},"The XML server thread pool size"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"5"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"xmlserver.config.threadPoolQueueSize")),(0,r.kt)("td",{parentName:"tr",align:null},"The XML server thread pool queue size"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"200"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"xmlserver.config.socketTimeout")),(0,r.kt)("td",{parentName:"tr",align:null},"The XML server socket timeout (milliseconds)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"60000"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"xmlserver.resources")),(0,r.kt)("td",{parentName:"tr",align:null},"Pod ",(0,r.kt)("a",{parentName:"td",href:"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#resource-requests-and-limits-of-pod-and-container"},"resources")," definition"),(0,r.kt)("td",{parentName:"tr",align:null},"Varies by application (see ",(0,r.kt)("inlineCode",{parentName:"td"},"values.yaml"),")")))),(0,r.kt)(p,{mdxType:"InlineNotification"},(0,r.kt)("p",null,"In a Kubernetes environment, there is only one XML Server from SPM’s point of view - the load balancing functionality is handled by Kubernetes services between all the replicas.")),(0,r.kt)("h3",null,"Universal Access React App - optional"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"uawebapp.imageConfig.library")),(0,r.kt)("td",{parentName:"tr",align:null},"Namespace in the image registry containing your Univeral Access image"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"uawebapp.imageConfig.name")),(0,r.kt)("td",{parentName:"tr",align:null},"Name of your Univeral Access image to be used"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"uawebapp.imageConfig.tag")),(0,r.kt)("td",{parentName:"tr",align:null},"Image tag of your Univeral Access image to be used"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"latest"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"uawebapp.ingressPath")),(0,r.kt)("td",{parentName:"tr",align:null},"Static content Ingress/Route path without a trailing forward slash (must match the ",(0,r.kt)("a",{parentName:"td",href:"https://www.ibm.com/docs/en/spm/7.0.11?topic=server-building-universal-access-responsive-web-application-deployment"},"PUBLIC_URL")," variable when the application was built)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"/universal"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"uawebapp.readinessProbe.path")),(0,r.kt)("td",{parentName:"tr",align:null},"Path for the pod readiness probe (should be same as ",(0,r.kt)("inlineCode",{parentName:"td"},"ingressPath")," except ",(0,r.kt)("strong",{parentName:"td"},"with")," the trailing forward slash)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"/universal/"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"uawebapp.replicaCount")),(0,r.kt)("td",{parentName:"tr",align:null},"Number of replicas to be deployed"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"uawebapp.resources")),(0,r.kt)("td",{parentName:"tr",align:null},"Pod ",(0,r.kt)("a",{parentName:"td",href:"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#resource-requests-and-limits-of-pod-and-container"},"resources")," definition"),(0,r.kt)("td",{parentName:"tr",align:null},"Varies by application (see ",(0,r.kt)("inlineCode",{parentName:"td"},"values.yaml"),")")))))}k.isMDXComponent=!0},4295:function(t,e,a){"use strict";a.d(e,{Z:function(){return f}});var n=a(7294),r=a(8650),l=a.n(r),i=a(5444),d=a(6949),o=a(1551),m=a(5900),p=a.n(m),s=function(t){var e,a=t.title,r=t.theme,l=t.tabs,i=void 0===l?[]:l;return n.createElement("div",{className:p()("PageHeader-module--page-header--1JmOE",(e={},e["PageHeader-module--with-tabs--ezlJE"]=i.length,e["PageHeader-module--dark-mode--aV7If"]="dark"===r,e))},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12"},n.createElement("h1",{id:"page-title",className:"PageHeader-module--text--J1--B"},a)))))},u=function(t){var e=t.relativePagePath,a=t.repository,r=(0,i.useStaticQuery)("1364590287").site.siteMetadata.repository,l=a||r,d=l.baseUrl,o=l.subDirectory,m=d+"/edit/"+l.branch+o+"/src/pages"+e;return d?n.createElement("div",{className:"bx--row EditLink-module--row--2vJiZ"},n.createElement("div",{className:"bx--col"},n.createElement("a",{className:"EditLink-module--link--t_pLX",href:m},"Edit this page on GitHub"))):null},k=a(4275),N=a(3552),c=function(t){function e(){return t.apply(this,arguments)||this}return(0,N.Z)(e,t),e.prototype.render=function(){var t=this.props,e=t.title,a=t.tabs,r=t.slug,d=r.split("/").filter(Boolean).slice(-1)[0],o=a.map((function(t){var e,a=l()(t,{lower:!0,strict:!0}),o=a===d,m=new RegExp(d+"/?(#.*)?$"),s=r.replace(m,a);return n.createElement("li",{key:t,className:p()((e={},e["PageTabs-module--selected-item--3CjGa"]=o,e),"PageTabs-module--list-item--2X02I")},n.createElement(i.Link,{className:"PageTabs-module--link--2anNu",to:""+s},t))}));return n.createElement("div",{className:"PageTabs-module--tabs-container--18QsR"},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12 bx--col-no-gutter"},n.createElement("nav",{"aria-label":e},n.createElement("ul",{className:"PageTabs-module--list--3gLeN"},o))))))},e}(n.Component),g=a(2881),b=a(6958),h=a(36),C=function(t){var e=t.date,a=new Date(e);return e?n.createElement(h.X2,{className:"last-modified-date-module--row--Bb0E9"},n.createElement(h.sg,null,n.createElement("div",{className:"last-modified-date-module--text--1RmBx"},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null},f=function(t){var e=t.pageContext,a=t.children,r=t.location,m=t.Title,p=e.frontmatter,N=void 0===p?{}:p,h=e.relativePagePath,f=e.titleType,y=N.tabs,v=N.title,D=N.theme,S=N.description,w=N.keywords,P=N.date,M=(0,b.Z)().interiorTheme,x=(0,i.useStaticQuery)("2456312558").site.pathPrefix,I=x?r.pathname.replace(x,""):r.pathname,T=y?I.split("/").filter(Boolean).slice(-1)[0]||l()(y[0],{lower:!0}):"",E=D||M;return n.createElement(o.Z,{tabs:y,homepage:!1,theme:E,pageTitle:v,pageDescription:S,pageKeywords:w,titleType:f},n.createElement(s,{title:m?n.createElement(m,null):v,label:"label",tabs:y,theme:E}),y&&n.createElement(c,{title:v,slug:I,tabs:y,currentTab:T}),n.createElement(g.Z,{padded:!0},a,n.createElement(u,{relativePagePath:h}),n.createElement(C,{date:P})),n.createElement(k.Z,{pageContext:e,location:r,slug:I,tabs:y,currentTab:T}),n.createElement(d.Z,null))}}}]);
//# sourceMappingURL=component---src-pages-deployment-config-reference-mdx-f6959d52d55280e11540.js.map