(self.webpackChunkspm_kubernetes=self.webpackChunkspm_kubernetes||[]).push([[1403],{6900:function(e,t,a){"use strict";a.r(t),a.d(t,{_frontmatter:function(){return s},default:function(){return u}});var n,r=a(9756),i=(a(7294),a(4983)),o=a(4295),s={},l=(n="InlineNotification",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",e)}),d={_frontmatter:s},c=o.Z;function u(e){var t=e.components,a=(0,r.Z)(e,["components"]);return(0,i.kt)(c,Object.assign({},d,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",null,"Support for IBM MQ certified containers on OpenShift"),(0,i.kt)("p",null,"IBM® Cúram Social Program Management (SPM) customers may obtain IBM MQ certified containers from the IBM Cloud Container Registry for use as a Supporting Program for SPM.\nUse as a Supporting Program means that IBM MQ certified containers can only be used to process internal JMS messages within SPM."),(0,i.kt)("p",null,"SPM does not require or support the use of any IBM MQ Advanced features available in the IBM MQ certified containers."),(0,i.kt)("p",null,"IBM MQ certified container is supported only on SPM Version 7.0.11 and later versions."),(0,i.kt)(l,{mdxType:"InlineNotification"},(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Note"),": The IBM MQ charts found in the Runbook Github repository are sample charts based on the IBM MQ public charts published ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/IBM/charts/tree/master/stable/ibm-mqadvanced-server-dev"},"here"),".")),(0,i.kt)("h2",null,"Stateful Sets"),(0,i.kt)("p",null,"If a highly available MQ cluster is desired, a ",(0,i.kt)("strong",{parentName:"p"},"Stateful Set")," can be used. The stateful set used for SPM contains two identical\npods, one active pod and one standby pod. If the active pod goes down, the standby pod is moved into the active role and a new pod is rescheduled in standby mode.\nThis occurs seamlessly, with persistent storage allowing for minimal downtime. The Stateful Set used in SPM requires several values that must be configured prior to\ndeployment. These values are those located under the MQ ",(0,i.kt)("inlineCode",{parentName:"p"},"multiInstance")," section within the relevant values file. There, NFS or Ceph can be chosen as the desired\nmulti-instance delivery method."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"NFS")," - In order to deploy with NFS, an NFS server and NFS folder must be available and configured; i.e. the destination directory ",(0,i.kt)("inlineCode",{parentName:"li"},"global.mq.multiInstance.nfsFolder")," must exist;\nthe folder must be configured to have a ",(0,i.kt)("inlineCode",{parentName:"li"},"data")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"logs")," subdirectory for each applicable application (i.e. if ",(0,i.kt)("inlineCode",{parentName:"li"},"global.mq.multiInstance.nfsFolder")," is set to ",(0,i.kt)("inlineCode",{parentName:"li"},"/MQHA"),", the folder must\ncontain the directories ",(0,i.kt)("inlineCode",{parentName:"li"},"/MQHA/curam/data"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"/MQHA/curam/logs")," etc).\nThe supplementalGroups may need to be provided depending on the NFS server security setup."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Ceph")," - In order to deploy with Ceph, the desired Storage Class must be provided.")),(0,i.kt)("h2",null,"PersistentVolumes and PersistentVolumeClaims"),(0,i.kt)("p",null,"A ",(0,i.kt)("inlineCode",{parentName:"p"},"PersistentVolume")," (PV) is a piece of storage in the cluster that has been provisioned by an administrator or dynamically provisioned using Storage Classes.\nIt is a resource in the cluster just like a node is a cluster resource. A ",(0,i.kt)("inlineCode",{parentName:"p"},"PersistentVolumeClaim")," (PVC) is a request for storage by a user. It is similar to\na Pod. Pods consume node resources and PVCs consume PV resources. Pods can request specific levels of resources (CPU and Memory). Claims can request specific\nsize and access modes."),(0,i.kt)("p",null,"When using NFS as the desired multi-instance method, the PV and PVCs must be configured by the user. Within the PVs, the NFS IP and NFS folder must be provided.\nIn the PV, a ",(0,i.kt)("inlineCode",{parentName:"p"},"claimRef")," can be defined in order to ensure that the correct PVC matches with the correct PV. The templates provided also contain labels, which can\nalso be used to ensure correct coupling."),(0,i.kt)("p",null,"If using Ceph, the PVs are dynamically configured. Therefore, no further configuration is required."),(0,i.kt)("h2",null,"Operators"),(0,i.kt)("p",null,"MQ can also be deployed via Operators. Operators are a method of packaging and deploying Kubernetes applications that take human operational knowledge of managing the application and encode it into the\npackage itself, which can then be shared with users. Operator deployment can be used to create a single-instance or a multi-instance deployment, as desired.  "),(0,i.kt)("p",null,"The IBM MQ Operator can be installed using the Operator Hub. More information on  installing the IBM Operator using the OpenShift CLI\ncan be found ",(0,i.kt)("a",{parentName:"p",href:"https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_9.1.0/com.ibm.mq.ctr.doc/ctr_installing_cli.htm"},"here"),".",(0,i.kt)("br",{parentName:"p"}),"\n","When deploying in this way, a ",(0,i.kt)("strong",{parentName:"p"},"Queue Manager")," object is created. The Operator deployment also handles the creation of the ",(0,i.kt)("strong",{parentName:"p"},"PersistentVolume")," and ",(0,i.kt)("strong",{parentName:"p"},"Stateful Set")," objects."))}u.isMDXComponent=!0},4295:function(e,t,a){"use strict";a.d(t,{Z:function(){return N}});var n=a(7294),r=a(8650),i=a.n(r),o=a(5444),s=a(6949),l=a(1551),d=a(5900),c=a.n(d),u=function(e){var t,a=e.title,r=e.theme,i=e.tabs,o=void 0===i?[]:i;return n.createElement("div",{className:c()("PageHeader-module--page-header--1JmOE",(t={},t["PageHeader-module--with-tabs--ezlJE"]=o.length,t["PageHeader-module--dark-mode--aV7If"]="dark"===r,t))},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12"},n.createElement("h1",{id:"page-title",className:"PageHeader-module--text--J1--B"},a)))))},m=function(e){var t=e.relativePagePath,a=e.repository,r=(0,o.useStaticQuery)("1364590287").site.siteMetadata.repository,i=a||r,s=i.baseUrl,l=i.subDirectory,d=s+"/edit/"+i.branch+l+"/src/pages"+t;return s?n.createElement("div",{className:"bx--row EditLink-module--row--2vJiZ"},n.createElement("div",{className:"bx--col"},n.createElement("a",{className:"EditLink-module--link--t_pLX",href:d},"Edit this page on GitHub"))):null},p=a(4275),h=a(3552),g=function(e){function t(){return e.apply(this,arguments)||this}return(0,h.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,r=e.slug,s=r.split("/").filter(Boolean).slice(-1)[0],l=a.map((function(e){var t,a=i()(e,{lower:!0,strict:!0}),l=a===s,d=new RegExp(s+"/?(#.*)?$"),u=r.replace(d,a);return n.createElement("li",{key:e,className:c()((t={},t["PageTabs-module--selected-item--3CjGa"]=l,t),"PageTabs-module--list-item--2X02I")},n.createElement(o.Link,{className:"PageTabs-module--link--2anNu",to:""+u},e))}));return n.createElement("div",{className:"PageTabs-module--tabs-container--18QsR"},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12 bx--col-no-gutter"},n.createElement("nav",{"aria-label":t},n.createElement("ul",{className:"PageTabs-module--list--3gLeN"},l))))))},t}(n.Component),b=a(2881),f=a(6958),k=a(36),v=function(e){var t=e.date,a=new Date(t);return t?n.createElement(k.X2,{className:"last-modified-date-module--row--Bb0E9"},n.createElement(k.sg,null,n.createElement("div",{className:"last-modified-date-module--text--1RmBx"},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null},N=function(e){var t=e.pageContext,a=e.children,r=e.location,d=e.Title,c=t.frontmatter,h=void 0===c?{}:c,k=t.relativePagePath,N=t.titleType,y=h.tabs,P=h.title,M=h.theme,S=h.description,C=h.keywords,w=h.date,E=(0,f.Z)().interiorTheme,I=(0,o.useStaticQuery)("2456312558").site.pathPrefix,T=I?r.pathname.replace(I,""):r.pathname,x=y?T.split("/").filter(Boolean).slice(-1)[0]||i()(y[0],{lower:!0}):"",B=M||E;return n.createElement(l.Z,{tabs:y,homepage:!1,theme:B,pageTitle:P,pageDescription:S,pageKeywords:C,titleType:N},n.createElement(u,{title:d?n.createElement(d,null):P,label:"label",tabs:y,theme:B}),y&&n.createElement(g,{title:P,slug:T,tabs:y,currentTab:x}),n.createElement(b.Z,{padded:!0},a,n.createElement(m,{relativePagePath:k}),n.createElement(v,{date:w})),n.createElement(p.Z,{pageContext:t,location:r,slug:T,tabs:y,currentTab:x}),n.createElement(s.Z,null))}}}]);
//# sourceMappingURL=component---src-pages-supporting-infrastructure-mq-mq-on-openshift-mdx-3d3bfcfc4ef65c34b73f.js.map